# Newar Insights - Environment Variables
# All services now use Supabase PostgreSQL and Storage

# ==========================================
# DATABASE - Supabase PostgreSQL
# ==========================================
SUPABASE_URL=https://iykklyrujvbmytkhwcfi.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml5a2tseXJ1anZibXl0a2h3Y2ZpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIwMDc2MTQsImV4cCI6MjA3NzU4MzYxNH0.VR7BqjYJyPK6tsRexwFkuPMRTWgKmvFJN3bfEOHq_P4
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml5a2tseXJ1anZibXl0a2h3Y2ZpIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MjAwNzYxNCwiZXhwIjoyMDc3NTgzNjE0fQ.bid08L1XcGxSDgNkKce_5nhbG4FYeLtiNf0vPq33Itk
SUPABASE_DB_PASSWORD=Automacoes1@

# ==========================================
# STORAGE - Supabase Storage (S3-compatible)
# ==========================================
STORAGE_PROVIDER=supabase # supabase or local
SUPABASE_STORAGE_BUCKET=insights
SUPABASE_STORAGE_REGION=sa-east-1
SUPABASE_STORAGE_ENDPOINT=https://iykklyrujvbmytkhwcfi.storage.supabase.co/storage/v1/s3
SUPABASE_STORAGE_ACCESS_KEY=739ba3415bc6c1319cbd83a94fca9378
SUPABASE_STORAGE_SECRET_KEY=d0a8d92656e990b14d434ff6997f4638c0a1d071c4af93cfcb3e5ef78043dec2

# ==========================================
# REDIS - Pub/Sub Communication
# ==========================================
REDIS_URL=redis://localhost:6379
# For production, use Upstash Redis:
# REDIS_URL=rediss://:password@region.upstash.io:6379

# ==========================================
# ADMIN API
# ==========================================
ADMIN_API_KEY=admin_secret_change_me_in_production
ADMIN_API_PORT=8081

# ==========================================
# API GATEWAY
# ==========================================
API_GATEWAY_PORT=8080
API_GATEWAY_RATE_LIMIT=10 # requests per minute per user

# ==========================================
# BOT MANAGER
# ==========================================
BOT_MANAGER_PORT=8082
BOT_IMAGE=newar-recording-bot:latest
MAX_CONCURRENT_BOTS=10

# ==========================================
# SERVICE URLs (Docker Networking)
# ==========================================
ADMIN_API_URL=http://admin-api:8081
BOT_MANAGER_URL=http://bot-manager:8082

# ==========================================
# LOGGING
# ==========================================
LOG_LEVEL=info # debug, info, warn, error

# ==========================================
# RECORDING CONFIGURATION
# ==========================================
CHUNK_DURATION_SECONDS=10
AUDIO_BITRATE=128000 # 128 kbps

# ==========================================
# CORS
# ==========================================
CORS_ALLOWED_ORIGINS=* # Change in production to specific domains
